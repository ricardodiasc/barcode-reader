(this["webpackJsonpbarcode-reader"]=this["webpackJsonpbarcode-reader"]||[]).push([[0],{69:function(e,t,n){e.exports=n(79)},79:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(8),c=n.n(o),i=n(17),l=n(104),u=n(123),s=n(16),d=n(43),f=n.n(d),m=n(53),v=n(19),g=n(107),b=n(109),p=n(34),h=n(110),E=n(122),O=n(111),w=n(112),S=n(124),j=n(120),y=n(113),C=n(114),k=n(108),x=n(58),I=n.n(x),F=Object(l.a)((function(e){return Object(u.a)({root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}})}));function R(e){var t=F(),n=Object(v.a)(),o=Object(g.a)(n.breakpoints.down("sm")),c=Object(a.useState)(!1),l=Object(i.a)(c,2),u=l[0],d=l[1],x=Object(a.useState)(),R=Object(i.a)(x,2),W=R[0],N=R[1],_=Object(a.useState)(e.actualConfiguration),L=Object(i.a)(_,2),V=L[0],A=L[1],D=function(){d(!u)};Object(a.useLayoutEffect)((function(){return function(){var e=Object(m.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.enumerateDevices();case 2:t=e.sent,n=t.filter((function(e){return"videoinput"===e.kind})).map((function(e){return{deviceId:e.deviceId,label:e.label,groupId:e.groupId}})),N(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){console.log("Closing")}}),[]);var P=0;return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{position:"static"},r.a.createElement(b.a,null,r.a.createElement(p.a,{variant:"h6",className:t.title},"Leitor de c\xf3digo de barras"),r.a.createElement(h.a,{color:"inherit","aria-label":"config",className:t.menuButton,onClick:D},r.a.createElement(I.a,null)))),r.a.createElement(E.a,{open:u,onClose:D,fullScreen:o},r.a.createElement(O.a,null,"Configura\xe7\xf5es"),r.a.createElement(w.a,null,r.a.createElement(S.a,{id:"select-camera"},"Selecione a camera padr\xe3o"),r.a.createElement(j.a,{labelId:"select-camera",native:!0,onChange:function(e){var t=e.target.value,n=Object(s.a)(Object(s.a)({},V.inputStream.constraints),{},{deviceId:t}),a=Object(s.a)(Object(s.a)({},V.inputStream),{},{constraints:n}),r=Object(s.a)(Object(s.a)({},V),{},{inputStream:a});A(r)},value:e.actualConfiguration.inputStream.constraints.deviceId},r.a.createElement("option",{value:"0"},"---"),null===W||void 0===W?void 0:W.map((function(e){return P++,r.a.createElement("option",{key:e.groupId,value:e.deviceId},""===e.label?"Camera ".concat(P):e.label)})))),r.a.createElement(y.a,null,r.a.createElement(C.a,{variant:"contained",color:"primary",onClick:function(){e.updateConfig(V),D()}},"Salvar"))))}var W=n(115),N=n(116),_=n(117),L=n(118),V=n(59),A=n.n(V);function D(e){return r.a.createElement(r.a.Fragment,null,""===e.codeScannerd?r.a.createElement(W.a,{elevation:2,style:{marginTop:"20px"}},r.a.createElement(N.a,null,r.a.createElement(p.a,{variant:"body1"},"Nenhum c\xf3digo foi lido ainda."))):r.a.createElement(W.a,{elevation:2,style:{marginTop:"20px"}},r.a.createElement(_.a,{title:"Codigo lido"}),r.a.createElement(N.a,null,r.a.createElement(p.a,{variant:"body1"},e.codeScannerd)),r.a.createElement(L.a,null,r.a.createElement(h.a,{color:"secondary","aria-label":"Deletar",onClick:function(){e.setCodeScanner("")}},r.a.createElement(A.a,null)))))}var P=n(119);function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function B(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var M=r.a.createElement("path",{d:"M2 6h2v12H2V6m3 0h1v12H5V6m2 0h3v12H7V6m4 0h1v12h-1V6m3 0h2v12h-2V6m3 0h3v12h-3V6m4 0h1v12h-1V6z",fill:"#FFFFFF"}),J=r.a.createElement("rect",{x:0,y:0,width:24,height:24,fill:"rgba(0, 0, 0, 0)"}),G=function(e){var t=e.svgRef,n=e.title,a=B(e,["svgRef","title"]);return r.a.createElement("svg",T({width:24,height:24,preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",style:{msTransform:"rotate(360deg)",WebkitTransform:"rotate(360deg)",transform:"rotate(360deg)"},ref:t},a),n?r.a.createElement("title",null,n):null,M,J)},H=r.a.forwardRef((function(e,t){return r.a.createElement(G,T({svgRef:t},e))})),U=(n.p,function(e){return r.a.createElement(P.a,{color:"secondary",onClick:e.openScanner,style:{position:"fixed",right:0,bottom:0,margin:"0 1em 1em 1em"}},r.a.createElement(H,null))}),z=n(60),q=n.n(z),Y=function(e){var t=q.a.config(e.config).fromSource(Object(s.a)(Object(s.a)({},e.config.inputStream),{},{target:".overlay__content"}));return Object(a.useEffect)((function(){return t.toPromise().promise.then(e.onDetected).catch(e.onCancel),function(){t.removeEventListener("detected",e.onDetected).stop(),e.onCancel()}}),[]),r.a.createElement("div",{className:"overlay__content"},r.a.createElement("video",{style:{width:"95%",height:"95%"}}))},$=function(e){var t=Object(a.useState)(!1),n=Object(i.a)(t,2),o=n[0],c=n[1],l=Object(v.a)(),u=Object(g.a)(l.breakpoints.down("sm")),s=function(){c(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{open:o,onClose:s,fullScreen:u},r.a.createElement(O.a,{id:"barcode-camera-dialog"},"Camera"),r.a.createElement(w.a,null,r.a.createElement(Y,{config:e.activeConfig,onDetected:function(t){t&&(s(),e.setCodeScanner(t.codeResult.code))},onCancel:function(){s()}})),r.a.createElement(y.a,null,r.a.createElement(C.a,{color:"primary",variant:"contained",onClick:s},"Fechar"))),r.a.createElement(U,{openScanner:function(){c(!0)}}))};function K(e){if("undefined"!==typeof window.localStorage)return e(window.localStorage);console.log("localStorage not available")}function Q(e,t){K((function(n){n.setItem(e,JSON.stringify(t))}))}var X={frequency:5,numOfWorkers:2,locate:!0,inputStream:{name:"Live",type:"LiveStream",constraints:{width:800,height:600,deviceId:"904ee42c2e57a164e7d04af030736360d6e47195c9bf9dea84cf86b5c47cbf3c",facingMode:"environment"},area:{top:"0%",right:"0%",left:"0%",bottom:"0%"}},decoder:{readers:["ean_reader","code_39_reader","code_128_reader"]},locator:{halfSample:!0,patchSize:"medium"}},Z=Object(l.a)((function(e){return Object(u.a)({root:{flexGrow:1}})})),ee=function(){var e=Z(),t=Object(a.useState)(""),n=Object(i.a)(t,2),o=n[0],c=n[1],l=Object(a.useState)(X),u=Object(i.a)(l,2),s=u[0],d=u[1];Object(a.useEffect)((function(){return function(){var e,t=(e="barcode-config",K((function(t){var n=t.getItem(e);return n?JSON.parse(n):null})));t?d(t):(Q("barcode-config",X),d(X))}(),function(){}}),[]);return r.a.createElement("div",{className:e.root},r.a.createElement(R,{updateConfig:function(e){return Q("barcode-config",e),d(e),e},actualConfiguration:s}),r.a.createElement(D,{setCodeScanner:c,codeScannerd:o}),r.a.createElement($,{setCodeScanner:c,activeConfig:s}))},te=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ne(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ee,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/barcode-reader",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/barcode-reader","/service-worker.js");te?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ne(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):ne(t,e)}))}}()}},[[69,1,2]]]);
//# sourceMappingURL=main.450e4c0d.chunk.js.map